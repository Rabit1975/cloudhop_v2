# Dependency Location Summary

This document provides a comprehensive overview of where `@supabase/supabase-js` and `react-router-dom` are used in the CloudHop-OS-v2 repository.

## @supabase/supabase-js

### Package Information
- **Expected Version**: ^2.38.0 (as documented in STRUCTURE.md)
- **Status**: ✅ **NOW ADDED** - Added to package.json dependencies
- **Purpose**: Backend and realtime database client

### Files Using @supabase/supabase-js

#### 1. `/src/core/supabase/client.ts` (Line 1)
**Import Statement:**
```typescript
import { createClient } from '@supabase/supabase-js'
```

**Usage:**
- Creates and exports the main Supabase client instance
- Uses environment variables: `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY`
- This is the primary Supabase client used throughout the application

**Full File Content:**
```typescript
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL!
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseAnonKey)
```

#### 2. `/src/core/signaling/useWebRTC.ts` (Line 3)
**Import Statement:**
```typescript
import { RealtimeChannel } from '@supabase/supabase-js';
```

**Usage:**
- Imports the `RealtimeChannel` type for WebRTC signaling
- Used for type definition: `const signalingChannel = useRef<RealtimeChannel | null>(null);`
- Implements real-time call signaling using Supabase's realtime channels
- Handles call offers, answers, ICE candidates, and call state management

---

## react-router-dom

### Package Information
- **Expected Version**: ^6.20.0 (as documented in STRUCTURE.md)
- **Status**: ✅ **NOW ADDED** - Added to package.json dependencies
- **Purpose**: Client-side routing for the React application

### Files Using react-router-dom

#### 1. `/src/kernel/routing/Router.tsx` (Line 2)
**Import Statement:**
```typescript
import { BrowserRouter, Routes, Route } from 'react-router-dom'
```

**Usage:**
- Implements the main application router
- Defines all application routes:
  - `/` → HopHubModule
  - `/hub` → HopHubModule
  - `/spaces` → SpacesModule
  - `/profile` → ProfileModule
  - `/settings` → SettingsModule
  - `/ai-tools` → AIToolsModule

**Full File Content:**
```typescript
import React from 'react'
import { BrowserRouter, Routes, Route } from 'react-router-dom'
import { AppLayout } from '@ui/layout/AppLayout'

// Modules
import HopHubModule from '@modules/hophub/HopHubModule'
import SpacesModule from '@modules/spaces/SpacesModule'
import ProfileModule from '@modules/profile/ProfileModule'
import SettingsModule from '@modules/settings/SettingsModule'
import AIToolsModule from '@modules/ai-tools/AIToolsModule'

export function Router() {
  return (
    <BrowserRouter>
      <AppLayout>
        <Routes>
          <Route path="/" element={<HopHubModule />} />
          <Route path="/hub" element={<HopHubModule />} />
          <Route path="/spaces" element={<SpacesModule />} />
          <Route path="/profile" element={<ProfileModule />} />
          <Route path="/settings" element={<SettingsModule />} />
          <Route path="/ai-tools" element={<AIToolsModule />} />
        </Routes>
      </AppLayout>
    </BrowserRouter>
  )
}
```

---

## Summary

### ✅ Dependencies Added

Both `@supabase/supabase-js` and `react-router-dom` have been **added to the `package.json` dependencies**.

**Updated package.json dependencies:**
```json
{
  "dependencies": {
    "@react-three/fiber": "^8.15.0",
    "@supabase/supabase-js": "^2.38.0",
    "@types/three": "^0.160.0",
    "react-router-dom": "^6.20.0",
    "three": "^0.160.0"
  },
  "devDependencies": {
    "@electron-forge/cli": "^7.8.3",
    "@types/node": "^20.0.0",
    "@types/react": "^18.0.0",
    "@types/react-router-dom": "^5.3.3",
    "electron": "^40.0.0",
    "typescript": "^5.0.0"
  }
}
```

### Next Steps

To install the newly added dependencies, run:

```bash
npm install
```

This will install:
- `@supabase/supabase-js@^2.38.0`
- `react-router-dom@^6.20.0`
- `@types/react-router-dom@^5.3.3` (dev dependency for TypeScript support)

### Files Affected

| Dependency | Files Count | File Paths |
|-----------|-------------|------------|
| `@supabase/supabase-js` | 2 | `/src/core/supabase/client.ts`<br>`/src/core/signaling/useWebRTC.ts` |
| `react-router-dom` | 1 | `/src/kernel/routing/Router.tsx` |

### Additional Dependencies Likely Needed

Based on the imports in the files, you may also need:
- `react` (^18.2.0) - Already listed as a peerDependency
- `react-dom` (^18.2.0) - For react-router-dom to work properly

---

**Generated**: 2026-01-17 by GitHub Copilot