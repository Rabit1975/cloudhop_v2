---
description: A React Hook for managing music studio projects. It provides methods for fetching, listing, creating, updating, and modifying audio layers within projects.
labels: ['hook', 'react', 'music', 'studio', 'projects', 'graphql']
---

A React Hook for managing music studio projects. It offers functionalities to interact with music studio projects via GraphQL queries and mutations, covering operations like retrieving project lists, getting single project details, creating new projects, and modifying project layers (audio clips).

### Listing all projects for a user

This example demonstrates how to fetch and display a list of music studio projects belonging to a specific user. It handles loading and error states.

```tsx
const ProjectList = () => {
  const currentOwnerId = 'user123'; // Replace with actual user ID
  const { projects, loading, error, refetch } = useMusicStudioProjects(currentOwnerId);
  if (loading) return <p>Loading projects...</p>;
  if (error) return <p>Error loading projects: {error.message}</p>;
  return (
    <div>
      <h2>My Music Studio Projects</h2>
      <button onClick={() => refetch()}>Refresh Projects</button>
      {projects.length === 0 ? (
        <p>No projects found.</p>
      ) : (
        <ul>
          {projects.map((project) => (
            <li key={project.id}>
              {project.name} (ID: {project.id}) - Last Edited: {new Date(project.lastEditedAt).toLocaleDateString()}
            </li>
          ))}
        </ul>
      )}
    </div>
  );
};
```
### Fetching and updating a single project
This example shows how to fetch a specific music studio project by its ID and then update its name.
```tsx
const ProjectDetails = ({ projectId }) => {
  const { project, loading, error, refetch } = useMusicStudioProject(projectId);
  const { updateProject, loading: updateLoading, error: updateError } = useUpdateMusicStudioProject();
  const [newName, setNewName] = useState('');
  const handleUpdate = async () => {
    if (project && newName) {
      await updateProject(project.id, newName);
      refetch(); // Refetch to get the updated project data
      setNewName('');
    }
  };
  if (loading) return <p>Loading project details...</p>;
  if (error) return <p>Error loading project: {error.message}</p>;
  if (!project) return <p>Project not found.</p>;
  return (
    <div>
      <h3>Project: {project.name}</h3>
      <p>Owner: {project.ownerId}</p>
      <p>Layers: {project.layers.length}</p>
      <h4>Update Project Name</h4>
      <input
        type="text"
        value={newName}
        onChange={(e) => setNewName(e.target.value)}
        placeholder="New project name"
        disabled={updateLoading}
      />
      <button onClick={handleUpdate} disabled={updateLoading || !newName}>
        {updateLoading ? 'Updating...' : 'Update Name'}
      </button>
      {updateError && <p style={{ color: 'red' }}>Error updating: {updateError.message}</p>}
    </div>
  );
};
```
### Creating a new project and managing its audio layers
This example illustrates how to create a brand new music studio project and then add or remove audio tracks to or from it.
```tsx
const ProjectCreatorAndLayerManager = () => {
  const { createProject, loading: createLoading, error: createError } = useCreateMusicStudioProject();
  const { addLayer, loading: addLayerLoading, error: addLayerError } = useAddMusicStudioProjectLayer();
  const { removeLayer, loading: removeLayerLoading, error: removeLayerError } = useRemoveMusicStudioProjectLayer();
  const [projectName, setProjectName] = useState('');
  const [currentProject, setCurrentProject] = useState(null);
  const [trackIdToAdd, setTrackIdToAdd] = useState('');
  const handleCreateProject = async () => {
    if (projectName) {
      const newProject = await createProject(projectName);
      if (newProject) {
        setCurrentProject(newProject);
        setProjectName('');
      }
    }
  };
  const handleAddLayer = async () => {
    if (currentProject && trackIdToAdd) {
      const updatedProject = await addLayer(currentProject.id, trackIdToAdd);
      if (updatedProject) {
        setCurrentProject(updatedProject);
        setTrackIdToAdd('');
      }
    }
  };
  const handleRemoveLayer = async (trackId) => {
    if (currentProject) {
      const updatedProject = await removeLayer(currentProject.id, trackId);
      if (updatedProject) {
        setCurrentProject(updatedProject);
      }
    }
  };
  return (
    <div>
      <h3>Create New Project</h3>
      <input
        type="text"
        value={projectName}
        onChange={(e) => setProjectName(e.target.value)}
        placeholder="Enter project name"
        disabled={createLoading}
      />
      <button onClick={handleCreateProject} disabled={createLoading || !projectName}>
        {createLoading ? 'Creating...' : 'Create Project'}
      </button>
      {createError && <p style={{ color: 'red' }}>Error creating: {createError.message}</p>}
      {currentProject && (
        <div>
          <h4>Current Project: {currentProject.name}</h4>
          <h5>Layers:</h5>
          {currentProject.layers.length === 0 ? (
            <p>No layers in this project.</p>
          ) : (
            <ul>
              {currentProject.layers.map((layer) => (
                <li key={layer.id}>
                  {layer.title || 'Untitled Track'} ({layer.id})
                  <button onClick={() => handleRemoveLayer(layer.id)} disabled={removeLayerLoading}>
                    Remove
                  </button>
                </li>
              ))}
            </ul>
          )}
          <h5>Add New Layer</h5>
          <input
            type="text"
            value={trackIdToAdd}
            onChange={(e) => setTrackIdToAdd(e.target.value)}
            placeholder="Enter track ID to add"
            disabled={addLayerLoading}
          />
          <button onClick={handleAddLayer} disabled={addLayerLoading || !trackIdToAdd}>
            {addLayerLoading ? 'Adding...' : 'Add Layer'}
          </button>
          {addLayerError && <p style={{ color: 'red' }}>Error adding layer: {addLayerError.message}</p>}
          {removeLayerError && <p style={{ color: 'red' }}>Error removing layer: {removeLayerError.message}</p>}
        </div>
      )}
    </div>
  );
};