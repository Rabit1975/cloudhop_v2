---
description: A React Hook for managing HopHub channels, including listing, fetching, creating, updating, and deleting channels.
labels: ['hook', 'react', 'channel', 'hophub', 'graphql']
---

### Listing all channels

This example demonstrates how to fetch and display a list of all available HopHub channels. It shows loading and error states.

```tsx
import {
  useChannels
} from './use-channels';
interface Channel {
  id: string;
  name: string;
  description: string;
  type: 'public' | 'private';
  ownerId: string;
  memberIds: string[];
  createdAt: string;
  updatedAt?: string;
}
const ChannelList = () => {
  // Example mock data for demonstration
  const mockChannels: Channel[] = [
    {
      id: 'channel-1',
      name: 'General Discussion',
      description: 'A place for general chatter',
      type: 'public',
      ownerId: 'user-1',
      memberIds: ['user-1', 'user-2', 'user-3'],
      createdAt: '2023-01-01T10:00:00Z',
    },
    {
      id: 'channel-2',
      name: 'Announcements',
      description: 'Important updates and news',
      type: 'public',
      ownerId: 'user-1',
      memberIds: ['user-1', 'user-2'],
      createdAt: '2023-01-05T11:00:00Z',
    },
  ];
  const { channels, loading, error, refetch } = useChannels({ mockData: mockChannels });
  if (loading) return <p>Loading channels...</p>;
  if (error) return <p>Error loading channels: {error.message}</p>;
  return (
    <div>
      <h2>All HopHub Channels</h2>
      <button onClick={() => refetch()}>Refresh Channels</button>
      <ul>
        {channels.map((channel) => (
          <li key={channel.id}>
            <strong>{channel.name}</strong> ({channel.type})
            <p>{channel.description}</p>
          </li>
        ))}
      </ul>
    </div>
  );
};
```

### Fetching a single channel

This example shows how to fetch details for a specific HopHub channel by its ID. It includes handling loading and error states.

```tsx
import {
  useChannel
} from './use-channel';
interface Channel {
  id: string;
  name: string;
  description: string;
  type: 'public' | 'private';
  ownerId: string;
  memberIds: string[];
  createdAt: string;
  updatedAt?: string;
}
const ChannelDetails = () => {
  const channelId = 'channel-1'; // Replace with a real channel ID
  const mockChannel: Channel = {
    id: 'channel-1',
    name: 'General Discussion',
    description: 'A place for general chatter',
    type: 'public',
    ownerId: 'user-1',
    memberIds: ['user-1', 'user-2', 'user-3'],
    createdAt: '2023-01-01T10:00:00Z',
  };
  const { channel, loading, error } = useChannel(channelId, { mockData: mockChannel });
  if (loading) return <p>Loading channel details...</p>;
  if (error) return <p>Error loading channel: {error.message}</p>;
  if (!channel) return <p>Channel not found.</p>;
  return (
    <div>
      <h2>Channel: {channel.name}</h2>
      <p>ID: {channel.id}</p>
      <p>Description: {channel.description}</p>
      <p>Type: {channel.type}</p>
      <p>Owner: {channel.ownerId}</p>
      <p>Members: {channel.memberIds.join(', ')}</p>
    </div>
  );
};
```

### Creating and updating a channel

This example illustrates how to create a new channel and then update its name and description using the provided hooks.

```tsx
import {
  useCreateChannel
} from './use-create-channel';
import {
  useUpdateChannel
} from './use-update-channel';
import {
  useState
} from 'react';
interface Channel {
  id: string;
  name: string;
  description: string;
  type: 'public' | 'private';
  ownerId: string;
  memberIds: string[];
  createdAt: string;
  updatedAt?: string;
}
const ChannelManagement = () => {
  const [createdChannel, setCreatedChannel] = useState < Channel | undefined > (undefined);
  const {
    createChannel,
    loading: createLoading,
    error: createError
  } = useCreateChannel();
  const {
    updateChannel,
    loading: updateLoading,
    error: updateError
  } = useUpdateChannel();
  const handleCreateChannel = async () => {
    try {
      const newChannel = await createChannel(
        'New Test Channel',
        'A channel created for testing purposes',
        'http://example.com/image.png', ['user-4', 'user-5']
      );
      setCreatedChannel(newChannel);
      alert('Channel created successfully!');
    } catch (err) {
      alert(`Error creating channel: ${createError?.message}`);
    }
  };
  const handleUpdateChannel = async () => {
    if (!createdChannel) {
      alert('Please create a channel first.');
      return;
    }
    try {
      await updateChannel(
        createdChannel.id,
        'Updated Channel Name',
        'This channel has been updated.'
      );
      alert('Channel updated successfully!');
    } catch (err) {
      alert(`Error updating channel: ${updateError?.message}`);
    }
  };
  return (
    <div>
      <h3>Create Channel</h3>
      <button onClick={handleCreateChannel} disabled={createLoading}>
        {createLoading ? 'Creating...' : 'Create New Channel'}
      </button>
      {createError && <p style={{ color: 'red' }}>Creation Error: {createError.message}</p>}
      {createdChannel && (
        <p>Created Channel ID: {createdChannel.id} (Name: {createdChannel.name})</p>
      )}

      {createdChannel && (
        <>
          <h3>Update Channel</h3>
          <button onClick={handleUpdateChannel} disabled={updateLoading}>
            {updateLoading ? 'Updating...' : 'Update Created Channel'}
          </button>
          {updateError && <p style={{ color: 'red' }}>Update Error: {updateError.message}</p>}
        </>
      )}
    </div>
  );
};