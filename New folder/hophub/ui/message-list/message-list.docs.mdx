---
description: Displays a chronological list of chat messages and handles automatic scrolling.
labels: ['chat', 'messaging', 'list', 'ui']
---

A `MessageList` component is designed to render a series of `MessageBubble` components in chronological order. It automatically scrolls to the bottom when new messages are added, providing a seamless chat experience.

### Basic Message Display

This example shows a basic message list with a few pre-defined messages between two users.

```tsx
import React, { type ReactNode } from 'react';
import { MessageList } from './message-list.js';
import { mockMessage } from '@cloudrabbit/hophub.entities.message';
import { mockUsers } from '@cloudrabbit/cloudhop-platform.entities.user'; // Assuming mockUsers is available here

const avatarUrl = 'https://storage.googleapis.com/bit-generated-images/images/image_minimalist_abstract_background_0_1770835144304.png';

// Generate mock users and assign image URLs
const rawUsers = mockUsers();
const currentUser = { ...rawUsers[0], imageUrl: avatarUrl } as any;
const otherUser = { ...rawUsers[1], imageUrl: avatarUrl } as any;

const users = [currentUser, otherUser];

const initialMessages = [
  mockMessage({
    id: 'msg-1',
    senderId: otherUser.id,
    text: 'Welcome to CloudHop! This is the start of the conversation.',
    createdAt: new Date(Date.now() - 1000000).toISOString(),
  }),
  mockMessage({
    id: 'msg-2',
    senderId: currentUser.id,
    text: 'Thanks! The new interface looks amazing.',
    createdAt: new Date(Date.now() - 500000).toISOString(),
  }),
  mockMessage({
    id: 'msg-3',
    senderId: otherUser.id,
    text: 'We are glad you like it. Feel free to explore the spaces.',
    createdAt: new Date(Date.now() - 100000).toISOString(),
  }),
];

const MyMessageList = () => (
  <div style={{ height: '500px', width: '100%', maxWidth: '600px', border: '1px solid var(--colors-border-default)', borderRadius: 'var(--borders-radius-medium)' }}>
    <MessageList
      messages={initialMessages}
      currentUser={currentUser}
      users={users}
    />
  </div>
);
```

### Live Chat Simulation

This example demonstrates how new messages are dynamically added to the list and the component automatically scrolls to the bottom.

```tsx
import React, { useState } from 'react';
import { MessageList } from './message-list.js';
import { mockMessage } from '@cloudrabbit/hophub.entities.message';
import { mockUsers } from '@cloudrabbit/cloudhop-platform.entities.user'; // Assuming mockUsers is available here

const avatarUrl = 'https://storage.googleapis.com/bit-generated-images/images/image_minimalist_abstract_background_0_1770835144304.png';

// Generate mock users and assign image URLs
const rawUsers = mockUsers();
const currentUser = { ...rawUsers[0], imageUrl: avatarUrl } as any;
const otherUser = { ...rawUsers[1], imageUrl: avatarUrl } as any;

const users = [currentUser, otherUser];

const initialMessages = [
  mockMessage({
    id: 'msg-a',
    senderId: otherUser.id,
    text: 'Hello, how are you today?',
    createdAt: new Date(Date.now() - 60000).toISOString(),
  }),
  mockMessage({
    id: 'msg-b',
    senderId: currentUser.id,
    text: 'I am doing great, thanks for asking!',
    createdAt: new Date(Date.now() - 30000).toISOString(),
  }),
];

const LiveChatExample = () => {
  const [messages, setMessages] = useState(initialMessages);
  const addMessage = () => {
    const isSelf = Math.random() > 0.5;
    const newMessage = mockMessage({
      id: `new-msg-${Date.now()}`,
      senderId: isSelf ? currentUser.id : otherUser.id,
      text: `This is a new message sent at ${new Date().toLocaleTimeString()}`,
      createdAt: new Date().toISOString(),
    });
    setMessages((prev) => [...prev, newMessage]);
  };
  return (
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', maxWidth: '600px', width: '100%' }}>
      <div style={{ height: '400px', border: '1px solid var(--colors-border-default)', borderRadius: 'var(--borders-radius-medium)', overflow: 'hidden' }}>
        <MessageList
          messages={messages}
          currentUser={currentUser}
          users={users}
        />
      </div>
      <button
        onClick={addMessage}
        style={{
          padding: '12px 24px',
          backgroundColor: 'var(--colors-primary-default)',
          color: 'var(--colors-primary-contrast)',
          border: 'none',
          borderRadius: 'var(--borders-radius-medium)',
          cursor: 'pointer',
          fontWeight: 'bold',
        }}
      >
        Simulate Incoming Message
      </button>
    </div>
  );
};
```

### Empty Conversation

This example illustrates how the message list appears when there are no messages in the conversation.

```tsx
import React from 'react';
import { MessageList } from './message-list.js';
import { mockUsers } from '@cloudrabbit/cloudhop-platform.entities.user'; // Assuming mockUsers is available here

const avatarUrl = 'https://storage.googleapis.com/bit-generated-images/images/image_minimalist_abstract_background_0_1770835144304.png';

// Generate mock users and assign image URLs
const rawUsers = mockUsers();
const currentUser = { ...rawUsers[0], imageUrl: avatarUrl } as any;
const otherUser = { ...rawUsers[1], imageUrl: avatarUrl } as any;

const users = [currentUser, otherUser];

const EmptyChatExample = () => (
  <div style={{ height: '300px', width: '100%', maxWidth: '600px', border: '1px solid var(--colors-border-default)', borderRadius: 'var(--borders-radius-medium)' }}>
    <MessageList
      messages={[]}
      currentUser={currentUser}
      users={users}
    />
  </div>
);