---
description: A Message entity containing information about a HopHub message.
labels: ['message', 'entity', 'hophub']
---

### Creating a Message from a Plain Object

Demonstrates how to instantiate a Message entity from a basic JavaScript object. This is useful when receiving data from an API.

```ts
const plainMessage = {
  id: 'msg_123',
  conversationId: 'conv_abc',
  senderId: 'user_xyz',
  text: 'Hello CloudHop team!',
  createdAt: new Date().toISOString(),
  type: 'TEXT',
  readBy: ['user_xyz'],
};
const message = Message.from(plainMessage);
console.log(message.text);
// Expected: "Hello CloudHop team!"
```

### Serializing a Message to a Plain Object

Shows how to convert a Message entity instance back into a plain JavaScript object. This is often needed before sending data to an API.

```ts
const imageAttachment = MediaAttachment.from({
  id: 'att_001',
  fileName: 'photo.jpg',
  fileType: 'image/jpeg',
  url: 'https://example.com/photo.jpg',
});
const messageInstance = new Message(
  'msg_456',
  'conv_def',
  'user_abc',
  'Check out this image!',
  new Date().toISOString(),
  'MEDIA',
  [imageAttachment],
  ['user_abc'],
);
const plainObject = messageInstance.toObject();
console.log(plainObject.mediaAttachments?.length);
// Expected: 1
console.log(plainObject.text);
// Expected: "Check out this image!"
```

### Using Mock Message Data

Illustrates how to generate mock message data for development and testing purposes. The mock data can be customized with partial overrides.

```ts
// Generate a single mock message
const singleMessage = mockMessage({
  senderId: 'user_dev',
  text: 'This is a test message from a mock.',
});
console.log(singleMessage.text);
// Generate an array of mock messages
const messagesArray = mockMessages(3);
messagesArray.forEach((msg, index) => {
  console.log(`Mock message ${index}: ${msg.text}`);
});