---
description: A React Hook for managing game data including listing, retrieving, creating, updating, and deleting games.
labels: ['hook', 'react', 'gamehub', 'data-management']
---

A React Hook for fetching and managing game data. It provides functions for listing games, retrieving a single game by its ID, creating new games, updating existing ones, and deleting games. The hook also exposes loading and error states for these operations.

## Usage

### Basic Game Listing

This example demonstrates how to use the useGames hook to fetch and display a list of games. It shows how to handle loading and error states.

```tsx
const GameListComponent = () => {
  // Simulate mock data for demonstration
  const mockGamesData = [
    { id: '1', name: 'Adventure Quest', description: 'A classic RPG', categoryId: 'rpg', gameType: 'html5', imageUrls: ['image1.png'], createdAt: '2023-01-01' },
    { id: '2', name: 'Space Defender', description: 'An arcade shooter', categoryId: 'arcade', gameType: 'html5', imageUrls: ['image2.png'], createdAt: '2023-01-02' },
  ];
  const { games, loading, error, refetch } = useGames(
    {}, // listOptions
    { mockData: mockGamesData } // queryOptions with mock data
  );
  if (loading) return <p>Loading games...</p>;
  if (error) return <p>Error loading games: {error.message}</p>;
  return (
    <div>
      <h2>Available Games</h2>
      <button onClick={() => refetch()}>Refresh Games</button>
      <ul>
        {games.map((game) => (
          <li key={game.id}>
            <h3>{game.name}</h3>
            <p>{game.description}</p>
            <p>Type: {game.gameType}</p>
          </li>
        ))}
      </ul>
    </div>
  );
};
```
### Creating and Updating Game Data
This example shows how to create a new game and update an existing one using the createGame and updateGame functions provided by the useGames hook.

```tsx
const GameMutationComponent = () => {
  const { createGame, updateGame, creating, updating, createError, updateError } = useGames();
  const handleCreateGame = async () => {
    try {
      const newGame = await createGame({
        name: 'New Galactic Explorer',
        description: 'Explore the galaxy in this new adventure!',
        categoryId: 'adventure',
        gameType: 'unity',
        unityGameId: 'unity-ge-001',
        imageUrls: ['galaxy.png'],
      });
      console.log('Game created:', newGame.name);
      alert(`Game '${newGame.name}' created successfully.`);
    } catch (err) {
      console.error('Error creating game:', createError || err);
      alert(`Failed to create game: ${createError?.message || 'Unknown error'}`);
    }
  };
  const handleUpdateGame = async (gameId: string) => {
    try {
      const updatedGame = await updateGame({
        gameId: gameId,
        description: 'An updated description for the classic RPG.',
        publisher: 'Retro Games Inc.',
      });
      console.log('Game updated:', updatedGame.name);
      alert(`Game '${updatedGame.name}' updated successfully.`);
    } catch (err) {
      console.error('Error updating game:', updateError || err);
      alert(`Failed to update game: ${updateError?.message || 'Unknown error'}`);
    }
  };
  return (
    <div>
      <h2>Manage Games</h2>
      <button onClick={handleCreateGame} disabled={creating}>
        {creating ? 'Creating...' : 'Create New Game'}
      </button>
      {createError && <p style={{ color: 'red' }}>Create error: {createError.message}</p>}
      
<br />
      <button onClick={() => handleUpdateGame('1')} disabled={updating}>
        {updating ? 'Updating...' : 'Update Game ID 1'}
      </button>
      {updateError && <p style={{ color: 'red' }}>Update error: {updateError.message}</p>}
    </div>
  );
};
```
### Retrieving and Deleting Game Data
This example illustrates how to retrieve a single game by its ID and how to delete a game using the getGame and deleteGame functions.

```tsx
const GameDetailAndDeleteComponent = () => {
  const [gameId, setGameId] = React.useState('1'); // Example game ID
  const [singleGame, setSingleGame] = React.useState(null);
  const [getGameLoading, setGetGameLoading] = React.useState(false);
  const [getGameError, setGetGameError] = React.useState(null);
  const { getGame, deleteGame, deleting, deleteError } = useGames();
  const handleGetGame = async () => {
    setGetGameLoading(true);
    setGetGameError(null);
    try {
      // Mock for getGame, as it typically queries from API directly.
      // In a real scenario, this would hit the backend.
      if (gameId === '1') {
        setSingleGame({ id: '1', name: 'Adventure Quest', description: 'A classic RPG', categoryId: 'rpg', gameType: 'html5', imageUrls: ['image1.png'], createdAt: '2023-01-01' });
      } else {
        setSingleGame(null); // Not found
      }
    } catch (err) {
      console.error('Error fetching game:', err);
      setGetGameError(err);
    } finally {
      setGetGameLoading(false);
    }
  };
  const handleDeleteGame = async () => {
    if (!gameId) return;
    try {
      const success = await deleteGame({ gameId });
      if (success) {
        console.log(`Game with ID ${gameId} deleted.`);
        alert(`Game with ID ${gameId} deleted successfully.`);
        setSingleGame(null); // Clear the displayed game
      } else {
        alert(`Failed to delete game with ID ${gameId}.`);
      }
    } catch (err) {
      console.error('Error deleting game:', deleteError || err);
      alert(`Failed to delete game: ${deleteError?.message || 'Unknown error'}`);
    }
  };
  return (
    <div>
      <h2>Game Details and Deletion</h2>
      <input
        type="text"
        value={gameId}
        onChange={(e) => setGameId(e.target.value)}
        placeholder="Enter Game ID"
      />
      <button onClick={handleGetGame} disabled={getGameLoading}>
        {getGameLoading ? 'Fetching...' : 'Get Game Details'}
      </button>
      {getGameError && <p style={{ color: 'red' }}>Error: {getGameError.message}</p>}
      {singleGame ? (
        <div>
          <h3>{singleGame.name}</h3>
          <p>{singleGame.description}</p>
          <button onClick={handleDeleteGame} disabled={deleting}>
            {deleting ? 'Deleting...' : 'Delete Game'}
          </button>
          {deleteError && <p style={{ color: 'red' }}>Delete error: {deleteError.message}</p>}
        </div>
      ) : (
        <p>No game found or selected.</p>
      )}
    </div>
  );
};